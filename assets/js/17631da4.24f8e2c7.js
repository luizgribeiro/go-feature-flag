"use strict";(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[9622],{15355:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var t=r(85893),l=r(11151);const s={},o="Progressive rollout",i={id:"rollout/progressive",title:"Progressive rollout",description:"A progressive rollout allows you to increase the percentage of your flag over time.",source:"@site/versioned_docs/version-v0.28.2/rollout/progressive.md",sourceDirName:"rollout",slug:"/rollout/progressive",permalink:"/docs/v0.28.2/rollout/progressive",draft:!1,unlisted:!1,editUrl:"https://github.com/thomaspoignant/go-feature-flag/tree/main/website/versioned_docs/version-v0.28.2/rollout/progressive.md",tags:[],version:"v0.28.2",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Experimentation rollout / A/B Testing",permalink:"/docs/v0.28.2/rollout/experimentation"},next:{title:"Scheduled rollout",permalink:"/docs/v0.28.2/rollout/scheduled"}},a={},d=[{value:"Example",id:"example",level:2},{value:"YAML",id:"yaml",level:3},{value:"JSON",id:"json",level:3},{value:"TOML",id:"toml",level:3},{value:"Configuration fields",id:"configuration-fields",level:2}];function c(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"progressive-rollout",children:"Progressive rollout"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"progressive rollout"})," allows you to increase the percentage of your flag over time."]}),"\n",(0,t.jsxs)(n.p,{children:["You can select a ",(0,t.jsx)(n.strong,{children:"release ramp"})," where the percentage of your flag will increase progressively between the start date and the end date."]}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.h3,{id:"yaml",children:"YAML"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'progressive-flag:\n  true: "B"\n  false: "A"\n  default: "Default"\n  # highlight-start\n  rollout:\n    progressive:\n      percentage:\n        initial: 0\n        end: 100\n      releaseRamp:\n        start: 2021-03-20T00:00:00.10-05:00\n        end: 2021-03-21T00:00:00.10-05:00\n  # highlight-end\n'})}),"\n",(0,t.jsx)(n.h3,{id:"json",children:"JSON"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "progressive-flag": {\n    "true": "B",\n    "false": "A",\n    "default": "Default",\n    # highlight-start\n    "rollout": {\n      "progressive": {\n        "percentage": {\n          "initial": 0,\n          "end": 100\n        },\n        "releaseRamp": {\n          "start": "2021-03-20T05:00:00.100Z",\n          "end": "2021-03-21T05:00:00.100Z"\n        }\n      }\n    }\n    # highlight-end\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"toml",children:"TOML"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-toml",children:'[progressive-flag]\ntrue = "B"\nfalse = "A"\ndefault = "Default"\n# highlight-start\n  [progressive-flag.rollout]\n\n    [progressive-flag.rollout.progressive]\n\n      [progressive-flag.rollout.progressive.percentage]\n      initial = 0.0\n      end = 100.0\n\n      [progressive-flag.rollout.progressive.releaseRamp]\n      start = 2021-03-20T05:00:00.100Z\n      end = 2021-03-21T05:00:00.100Z\n# highlight-end\n'})}),"\n",(0,t.jsx)(n.h2,{id:"configuration-fields",children:"Configuration fields"}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"The dates are in the format supported natively by your flag file format."})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"releaseRamp"})})}),(0,t.jsxs)(n.td,{children:["It contains the time slot where we will progressively increase the percentage of the flag.",(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(n.strong,{children:"Before"})," the ",(0,t.jsx)(n.code,{children:"start"})," date we will serve the ",(0,t.jsx)(n.code,{children:"percentage.initial"})," percentage of the flag."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(n.strong,{children:"Between"})," ",(0,t.jsx)(n.code,{children:"start"})," and ",(0,t.jsx)(n.code,{children:"end"})," we will serve a percentage of the flag corresponding of the actual time."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(n.strong,{children:"After"})," the ",(0,t.jsx)(n.code,{children:"end"})," date we will serve the ",(0,t.jsx)(n.code,{children:"percentage.end"})," percentage of the flag."]})]}),(0,t.jsxs)("p",{children:["If you have no date in your ",(0,t.jsx)(n.code,{children:"releaseRamp"})," we will not do any progressive rollout and use the top level percentage you have configured ",(0,t.jsx)(n.em,{children:"(0% in our example)"}),"."]})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"percentage"})})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.em,{children:"(optional)"}),(0,t.jsx)("br",{}),"It represents the ramp of progress, at which level the flag starts (",(0,t.jsx)(n.code,{children:"initial"}),") and at which level it ends (",(0,t.jsx)(n.code,{children:"end"}),").",(0,t.jsx)("br",{}),(0,t.jsxs)(n.strong,{children:["Default: ",(0,t.jsx)(n.code,{children:"initial"})," = ",(0,t.jsx)(n.code,{children:"0"})," and ",(0,t.jsx)(n.code,{children:"end"})," = ",(0,t.jsx)(n.code,{children:"100"})]})]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>i,a:()=>o});var t=r(67294);const l={},s=t.createContext(l);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);