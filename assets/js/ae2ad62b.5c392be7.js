(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[82992],{48192:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ue});var l=s(67294),r=s(87536),i=s(98246);const t={flagContainer:"flagContainer_wy3i"};var n=s(86010);const o={editorInputContainer:"editorInputContainer_jqCm",editorCut:"editorCut_Erbg",error:"error_AEli",editorPlaceholder:"editorPlaceholder_MvV8",editorInput:"editorInput_WHYK",errorMessage:"errorMessage_K08I"};var c=s(32866),d=s(45697),u=s.n(d),m=s(85893);function v(e){let{label:a,displayText:s,className:l,required:i,type:t,validation:d,defaultValue:u,disablePlaceholder:v=!1,disableInlineErr:p=!1}=e;const{register:x}=(0,r.Gc)();return(0,m.jsxs)("div",{className:(0,n.Z)(l||o.editorInputContainer),children:[(0,m.jsx)("input",{id:`${a}.input`,defaultValue:u,className:o.editorInput,type:"number"===t?"number":"text",placeholder:" ",...x(a,{required:{value:i,message:"This field is required"},...d})}),v&&(0,m.jsx)("span",{children:s}),(0,m.jsx)("div",{className:o.editorCut}),(0,m.jsx)("label",{htmlFor:`${a}.input`,className:(0,n.Z)(o.editorPlaceholder),children:s}),!p&&(0,m.jsx)(c.B,{name:a,render:g})]})}function g(e){let{message:a}=e;return(0,m.jsx)("div",{className:o.errorMessage,children:a})}v.propTypes={label:u().string.isRequired,displayText:u().string,className:u().string,required:u().bool,type:u().string,validation:u().object,defaultValue:u().any,disablePlaceholder:u().bool,disableInlineErr:u().bool};const p={container:"container_JzDm",switch:"switch_G9oQ",r:"r_b74C",layer:"layer_jPCr",knobs:"knobs_MQYY",checkbox:"checkbox_UUwg",displayText:"displayText_acVt"};function x(e){let{label:a,displayText:s,defaultChecked:l=!1}=e;const{register:i}=(0,r.Gc)();return(0,m.jsxs)("div",{className:p.container,children:[(0,m.jsx)("div",{className:(0,n.Z)(p.displayText),children:s}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:(0,n.Z)(p.switch,p.r),children:[(0,m.jsx)("input",{type:"checkbox",className:p.checkbox,...i(a),defaultChecked:l}),(0,m.jsx)("div",{className:p.knobs}),(0,m.jsx)("div",{className:p.layer})]})})]})}x.propTypes={label:u().string.isRequired,displayText:u().string,defaultChecked:u().bool};const f={selector:"selector_zSAl"};function h(e){let{title:a,content:s,label:l,required:i}=e;const{register:t}=(0,r.Gc)();return(0,m.jsx)("div",{className:f.selector,children:(0,m.jsxs)("select",{defaultValue:"0",...t(l,i),children:[(0,m.jsx)("option",{disabled:!0,defaultChecked:!0,value:null,children:a}),s.map(((e,a)=>(0,m.jsx)("option",{value:e.value,children:e.displayName},`variation_type_${e.value}_${e.displayText}`)))]})})}h.propTypes={title:u().string,content:u().array,label:u().string.isRequired,required:u().bool};const j={buttonPlus:"buttonPlus_vxig",bg:"bg_ZMMU",variation:"variation_m8Hn",icons:"icons_NekN",icon:"icon_PBCB",targeting:"targeting_UFjj"};var b=s(117),N=s(92949);const y={container:"container_SLwd"};function _(e){let{label:a,value:s}=e;const{register:l}=(0,r.Gc)(),{colorMode:i}=(0,N.I)(),{onChange:t,onBlur:n,name:o,ref:c}=l(`${a}.value`);return(0,m.jsx)("div",{className:y.container,"data-color-mode":i,children:(0,m.jsx)(b.Z,{value:s||"",language:"json",placeholder:" Please enter JSON.",padding:7,className:y.container,onChange:t,onBlur:n,name:o,ref:c,"data-color-mode":i,style:{fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace"}})})}_.propTypes={label:u().string.isRequired};const T=["\ud83d\udfe2","\ud83d\udfe0","\ud83d\udd34","\ud83d\udfe3","\u26aa\ufe0f","\ud83d\udd35","\u26ab\ufe0f","\ud83d\udfe1","\ud83d\udfe4"];function k(e){let{type:a,label:s}=e;const{control:l}=(0,r.Gc)(),{fields:i,append:t,remove:o}=(0,r.Dq)({control:l,name:s,rules:{minLength:1}}),c=e=>o(e);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Variations"}),(0,m.jsx)("div",{className:"grid grid-pad",children:i.map(((e,l)=>(0,m.jsx)(q,{type:a,label:`${s}.${l}`,index:l,remove:c,icon:T[l%T.length]},e.id)))}),(0,m.jsx)("button",{className:j.buttonPlus,onMouseDown:()=>t({}),children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",j.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"})]})})]})}function q(e){let{type:a,label:s,remove:l,index:i,icon:t}=e;const{register:o}=(0,r.Gc)();return(0,m.jsxs)("div",{className:j.variation,children:[(0,m.jsxs)("div",{className:(0,n.Z)("col-4-12 mobile-col-5-12",j.icons),children:[(0,m.jsx)("div",{className:j.icon,children:t}),(0,m.jsx)(v,{displayText:"Name",label:`${s}.name`,register:o,required:!0})]}),(0,m.jsx)("div",{className:(0,n.Z)("col-6-12 mobile-col-7-12"),children:((e,a,s)=>e&&"JSON"===e.toUpperCase()?(0,m.jsx)(_,{register:s,required:!0,label:a}):(0,m.jsx)(v,{displayText:"Flag Value",label:a,register:s,type:e,required:!0}))(a,s+".value",o)}),(0,m.jsx)("div",{className:"col-1-12 mobile-col-1-12",children:(0,m.jsx)("button",{className:j.buttonPlus,onMouseDown:e=>{e.preventDefault(),l(i)},children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",j.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-minus fa-stack-1x fa-inverse"})]})})})]})}k.propTypes={type:u().string,label:u().string.isRequired},q.propTypes={type:u().string,label:u().string.isRequired,remove:u().func.isRequired,index:u().number.isRequired,icon:u().string};const $={ruleContainer:"ruleContainer__VKe",ruleName:"ruleName_UKzC",circle:"circle_Gmme",inputQuery:"inputQuery_ajTA",ifContainer:"ifContainer_dti2",serveTitle:"serveTitle_zpaJ",serve:"serve_AhaS",percentageInput:"percentageInput_tEMG",dateInput:"dateInput_aE4X",percentageContainer:"percentageContainer_Mre8",error:"error_izBb",rolloutDesc:"rolloutDesc_kHMj",progressiveRollout:"progressiveRollout_x7nm",progressiveRolloutPercentage:"progressiveRolloutPercentage_qZik",formError:"formError_TtL5"};var C=s(39960),D=(s(61061),s(72933)),V=s(92305);function w(e){let{variations:a,label:s,selectedVar:l=""}=e;const{register:i,watch:t}=(0,r.Gc)();return"percentage"!==l?null:(0,m.jsxs)("div",{className:"grid-pad grid",children:[(0,m.jsx)("div",{className:(0,n.Z)("col-1-1",$.rolloutDesc),children:"A percentage rollout means that your users are divided in different buckets and you serve different variations to them. Note that a user will always have the same variation."}),(0,m.jsxs)("div",{className:"col-1-2",children:[(0,m.jsx)("ul",{className:$.percentageContainer,children:a.map(((e,a)=>(0,m.jsxs)("li",{children:[(0,m.jsx)(v,{label:`${s}.${a}.value`,required:!0,defaultValue:0,type:"number",displayText:`%  ${T[a%T.length]} ${e.name}`,className:$.percentageInput,disablePlaceholder:!0,disableInlineErr:!0,validation:{valueAsNumber:!0,required:{value:!0,message:"Percentage field is required"},min:{value:0,message:"Percentage should be between 0 and 100"},max:{value:100,message:"Percentage should be between 0 and 100"}}}),(0,m.jsx)("input",{type:"hidden",...i(`${s}.${a}.name`),value:e.name})]},`${s}.${e.name}`)))}),(0,m.jsx)(R,{percentages:t(s)})]})]})}function R(e){let{percentages:a}=e;if(!a||!(0,D.isArray)(a)||a.length<=0)return null;const s=a.filter((e=>e&&!isNaN(e.value))).reduce(((e,a)=>e+a.value),0);return s>100?(0,m.jsx)("div",{className:$.error,children:"The total percentage cannot be more than 100%"}):(0,m.jsx)(V.Progress,{percent:s})}w.propTypes={variations:u().array,label:u().string.isRequired,selectedVar:u().string},R.propTypes={percentages:u().array};var Z=s(96486),P=s.n(Z),F=s(9198),E=s.n(F);function S(e){let{name:a,initialValue:s,label:l,variations:i,defaultDate:t}=e;const{register:o,control:c,formState:{errors:d}}=(0,r.Gc)();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:(0,n.Z)("grid",$.progressiveRollout),children:[(0,m.jsx)("div",{children:a}),(0,m.jsx)("div",{children:(0,m.jsx)(r.Qr,{control:c,name:`${l}.date`,defaultValue:t,rules:{required:{value:!0,message:"Date field is required"}},render:e=>{let{field:a}=e;return(0,m.jsx)(E(),{className:$.dateInput,placeholderText:"Select date",showTimeSelect:!0,onChange:e=>a.onChange(e),selected:a.value,dateFormat:"Pp"})}})}),(0,m.jsx)("div",{children:"and serve"}),(0,m.jsx)("div",{children:(0,m.jsx)(h,{title:"Variation",content:i.map(((e,a)=>({value:e.name,displayName:`${T[a%T.length]} ${e.name}`}))).filter((e=>void 0!==e.value&&""!==e.value))||[],register:o,label:`${l}.selectedVar`,required:!0})}),(0,m.jsxs)("div",{className:$.progressiveRolloutPercentage,children:["to\xa0",(0,m.jsx)(v,{label:`${l}.percentage`,required:!0,defaultValue:s,type:"number",displayText:"%",className:$.percentageInput,disablePlaceholder:!0,disableInlineErr:!0,validation:{valueAsNumber:!0,min:{value:0,message:"Percentage should be between 0 and 100"},max:{value:100,message:"Percentage should be between 0 and 100"}}})]}),(0,m.jsx)("div",{children:(0,m.jsx)(C.Z,{to:"/docs/configure_flag/rollout/progressive",target:"_blank",children:(0,m.jsx)("i",{className:"fa-regular fa-circle-question"})})})]}),(0,m.jsx)("div",{children:(0,m.jsx)(I,{errors:d,label:l})})]})}function I(e,a){const s=P().get(e,a);return P().isNil(s)?null:(0,m.jsx)("ul",{className:$.formError,children:Object.keys(s).map((e=>(0,m.jsx)("li",{children:s[e].message},e)))})}function M(e){let{variations:a,label:s,selectedVar:l}=e;if("progressive"!==l)return null;let r=new Date;return r=r.setDate(r.getDate()+10),(0,m.jsxs)("div",{className:"grid grid-pad",children:[(0,m.jsxs)("div",{className:(0,n.Z)("col-1-1",$.rolloutDesc),children:["A progressive rollout allows you to increase the percentage of your flag over time.",(0,m.jsx)("br",{}),"You can select a release ramp where the percentage of your flag will increase progressively between the start date and the end date."]}),(0,m.jsx)(S,{name:"Start on the",label:`${s}.initial`,variations:a,initialValue:0,defaultDate:new Date}),(0,m.jsx)(S,{name:"Stop on the",label:`${s}.end`,variations:a,initialValue:100,defaultDate:new Date(r)})]})}S.propTypes={name:u().string,initialValue:u().number,label:u().string.isRequired,variations:u().array,defaultDate:u().any},M.propTypes={variations:u().array,label:u().string.isRequired,selectedVar:u().string};const G={editorTextAreaContainer:"editorTextAreaContainer_fX8G",editorCut:"editorCut_GT0A",error:"error_Oga1",editorPlaceholder:"editorPlaceholder_BqZW",editorTextArea:"editorTextArea_SNp7",errorMessage:"errorMessage_KoI5"};function O(e){let{label:a,displayText:s,className:l,required:i,validation:t,defaultValue:o,disablePlaceholder:d=!1,disableInlineErr:u=!1}=e;const{register:v}=(0,r.Gc)();return(0,m.jsxs)("div",{className:(0,n.Z)(l||G.editorTextAreaContainer),children:[(0,m.jsx)("textarea",{id:`${a}.textarea`,defaultValue:o,className:G.editorTextArea,placeholder:" ",...v(a,{required:{value:i,message:"This field is required"},...t})}),d&&(0,m.jsx)("span",{children:s}),(0,m.jsx)("div",{className:G.editorCut}),(0,m.jsx)("label",{htmlFor:`${a}.textarea`,className:(0,n.Z)(G.editorPlaceholder),children:s}),!u&&(0,m.jsx)(c.B,{name:a,render:A})]})}function A(e){let{message:a}=e;return(0,m.jsx)("div",{className:G.errorMessage,children:a})}function J(e){let{variations:a,label:s,isDefaultRule:l}=e;const{register:i,watch:t}=(0,r.Gc)(),c=[{value:"percentage",displayName:"\ufe0f\u2197\ufe0f a percentage rollout"},{value:"progressive",displayName:"\u2197\ufe0f a progressive rollout"}];return(0,m.jsxs)("div",{className:(0,n.Z)("grid-pad grid",$.ruleContainer),children:[!l&&(0,m.jsx)("div",{className:"col-1-1",children:(0,m.jsx)("div",{className:"content",children:(0,m.jsx)(v,{label:`${s}.name`,displayText:"Rule name",className:(0,n.Z)(o.editorInputContainer,$.ruleName),required:!0})})}),!l&&(0,m.jsx)("div",{className:(0,n.Z)("grid"),children:(0,m.jsx)("div",{className:"col-9-12",children:(0,m.jsxs)("div",{className:(0,n.Z)("content",$.inputQuery),children:[(0,m.jsx)("div",{className:$.ifContainer,children:(0,m.jsx)("div",{className:(0,n.Z)($.circle),children:"IF"})}),(0,m.jsx)(O,{label:`${s}.query`,displayText:"Query",required:!0}),(0,m.jsx)(C.Z,{to:"/docs/configure_flag/rule_format",target:"_blank",children:(0,m.jsx)("i",{className:"fa-regular fa-circle-question"})})]})})}),(0,m.jsx)("div",{className:"col-5-12",children:(0,m.jsxs)("div",{className:(0,n.Z)("content",$.serve),children:[(0,m.jsx)("div",{className:$.serveTitle,children:"Serve"}),(0,m.jsx)(h,{title:"Variation",content:function(e){const a=function(e){return e.map(((e,a)=>({value:e.name,displayName:`${T[a%T.length]} ${e.name}`}))).filter((e=>void 0!==e.value&&""!==e.value))||[]}(e);return a.length>=2?[...a,...c]:a}(a),register:i,label:`${s}.selectedVar`,required:!0})]})}),(0,m.jsxs)("div",{className:"col-1-1",children:[(0,m.jsx)(w,{selectedVar:t(`${s}.selectedVar`),variations:a,label:`${s}.percentages`}),(0,m.jsx)(M,{selectedVar:t(`${s}.selectedVar`),variations:a,label:`${s}.progressive`})]})]})}O.propTypes={label:u().string.isRequired,displayText:u().string,className:u().string,required:u().bool,validation:u().object,defaultValue:u().any,disablePlaceholder:u().bool,disableInlineErr:u().bool},J.propTypes={variations:u().array,label:u().string.isRequired,isDefaultRule:u().bool};const L={button:"button_Kroe",bg:"bg_rAJd",targeting:"targeting_TgyP",variation:"variation_eQWz",icons:"icons_PYIv",icon:"icon_fDeV"};function B(e){let{label:a,variations:s}=e;const{control:l}=(0,r.Gc)(),{fields:i,append:t,remove:o}=(0,r.Dq)({control:l,name:a}),c=e=>o(e);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Target specific users"}),i.length<=0&&(0,m.jsx)("div",{children:"Add Rule"}),i.map(((e,l)=>(0,m.jsxs)("div",{className:(0,n.Z)(L.targeting),children:[(0,m.jsx)(J,{variations:s,label:`${a}.${l}`,isDefaultRule:!1}),(0,m.jsx)("button",{className:L.button,onMouseDown:c,children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-xmark fa-stack-1x fa-inverse"})]})})]},e.id))),(0,m.jsx)("button",{className:L.button,onMouseDown:()=>t({name:`Rule ${i.length+1}`}),children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"})]})})]})}B.propTypes={label:u().string.isRequired,variations:u().array};const K={buttonPlus:"buttonPlus_bivi",bg:"bg_h80t",variation:"variation_HZEP",icons:"icons_clfx",icon:"icon_tZKN",targeting:"targeting_xoeT"};function Q(e){let{label:a}=e;const{control:s}=(0,r.Gc)(),{fields:l,append:i,remove:t}=(0,r.Dq)({control:s,name:a,rules:{minLength:1}}),o=e=>t(e);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Metadata"}),l.length<=0&&(0,m.jsx)("div",{children:"Add new metadata to your flag"}),(0,m.jsx)("div",{className:"grid grid-pad",children:l.map(((e,s)=>(0,m.jsx)(Y,{label:`${a}.${s}`,index:s,remove:o},e.id)))}),(0,m.jsx)("button",{className:K.buttonPlus,onMouseDown:()=>i({name:"",value:""}),children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",K.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"})]})})]})}function Y(e){let{type:a,label:s,remove:l,index:i,icon:t}=e;const{register:o}=(0,r.Gc)();return(0,m.jsxs)("div",{className:K.variation,children:[(0,m.jsxs)("div",{className:(0,n.Z)("col-4-12 mobile-col-5-12",K.icons),children:[(0,m.jsx)("div",{className:K.icon,children:t}),(0,m.jsx)(v,{displayText:"Key",label:`${s}.name`,register:o})]}),(0,m.jsx)("div",{className:(0,n.Z)("col-6-12 mobile-col-7-12"),children:(0,m.jsx)(v,{displayText:"Value",label:`${s}.value`,register:o,type:a})}),(0,m.jsx)("div",{className:"col-1-12 mobile-col-1-12",children:(0,m.jsx)("button",{className:K.buttonPlus,onMouseDown:e=>{e.preventDefault(),l(i)},children:(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",K.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-minus fa-stack-1x fa-inverse"})]})})})]})}function z(e){const a=e.type,s={};e.variations.filter((e=>void 0!==e.name&&""!==e.name&&void 0!==e.value&&""!==e.value)).forEach((e=>s[e.name]=U(e.value,a)));const l=e.targeting.map((e=>W(e))),r=U(e.trackEvents,"boolean"),i=U(e.disable,"boolean"),t=W(e.defaultRule);return{variations:s,disable:i||void 0,trackEvents:r?void 0:r,version:""===e.version?void 0:e.version,targeting:l.length>0?l:void 0,defaultRule:t,metadata:H(e.metadata)}}function U(e,a){switch(a){case"json":try{return JSON.parse(e.value)}catch(s){return}case"number":return Number(e)||void 0;case"boolean":return"boolean"==typeof e?e:void 0!==e&&("string"==typeof e||e instanceof String)&&"true"===e.toLowerCase();default:return String(e)||void 0}}function H(e){if(void 0!==e&&0!==e.filter((e=>{let{name:a}=e;return""!==a})).length)return Object.assign({},...e.map((e=>{let{name:a,value:s}=e;return{[a]:s}})))}function W(e){let a,s,l;const{selectedVar:r}=e;switch(r){case"percentage":s={},e.percentages.forEach((e=>s[e.name]=e.value));break;case"progressive":l={initial:{variation:e.progressive.initial.selectedVar,percentage:e.progressive.initial.percentage||0,date:e.progressive.initial.date},end:{variation:e.progressive.end.selectedVar,percentage:e.progressive.end.percentage||100,date:e.progressive.end.date}};break;default:a=r}return{name:e.name||void 0,query:e.query,variation:a,percentage:s,progressiveRollout:l}}Q.propTypes={label:u().string.isRequired},Y.propTypes={label:u().string.isRequired,remove:u().func.isRequired,index:u().number.isRequired};var X=s(52263);const ee={buttonContainer:"buttonContainer_m7Nq"};function ae(e){let{flagInfo:a}=e;const{siteConfig:s}=(0,X.Z)(),{watch:i}=(0,r.Gc)();let t=i(),o=a.split(".");for(let l of o)t=t[l];const c=t.flagName,d=z(t),[u,v]=(0,l.useState)({resolutionDetail:void 0,err:void 0});return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Test your flag"}),(0,m.jsxs)("div",{className:"grid-pad grid",children:[(0,m.jsxs)("div",{className:"col-5-12",children:[(0,m.jsx)("h4",{children:"Evaluation Context"}),(0,m.jsx)(_,{label:`${a}.context`,value:JSON.stringify({key:"aae1cb41-c3cb-4753-a117-031ddc958e81",custom:{anonymous:!0,firstname:"John",lastname:"Doe",email:"john.doe@gofeatureflag.org",company:"GO Feature Flag"}}," ",2)})]}),(0,m.jsx)("div",{className:(0,n.Z)("col-2-12",ee.buttonContainer),children:(0,m.jsx)("button",{className:"pushy__btn pushy__btn--md pushy__btn--black",onClick:async e=>{e.preventDefault();try{const e=await fetch(s.customFields.playgroundEvaluationApi,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({flagName:c,flag:d,context:t.context.value?JSON.parse(t.context.value):{}})});200===e.status&&e.json().then((e=>v({resolutionDetail:e})))}catch(a){v({err:a.toString()})}},children:"Evaluate Flag"})}),(0,m.jsxs)("div",{className:"col-5-12",children:[(0,m.jsx)("h4",{children:"Flag evaluation Details"}),(0,m.jsxs)("div",{children:[void 0!==u.resolutionDetail&&(0,m.jsxs)("ul",{children:[(0,m.jsxs)("li",{children:["Value: ",u.resolutionDetail.value.toString()]}),(0,m.jsxs)("li",{children:["Variation Type: ",u.resolutionDetail.variationType]}),(0,m.jsxs)("li",{children:["Reason: ",u.resolutionDetail.reason]}),(0,m.jsxs)("li",{children:["Failed: ",u.resolutionDetail.failed]}),(0,m.jsxs)("li",{children:["Error Code: ",u.resolutionDetail.errorCode]}),(0,m.jsxs)("li",{children:["Track Events: ",u.resolutionDetail.trackEvents]})]}),void 0!==u.err&&(0,m.jsxs)("span",{children:["Impossible to call the API: ",u.err]})]})]})]})]})}function se(e){let{label:a}=e;const{watch:s}=(0,r.Gc)();return(0,m.jsxs)("div",{className:t.flagContainer,children:[(0,m.jsxs)("div",{className:"grid-pad grid",children:[(0,m.jsx)("div",{className:"col-6-12 mobile-col-1-2",children:(0,m.jsx)(v,{displayText:"Flag Name",label:`${a}.flagName`,required:!0})}),(0,m.jsx)("div",{className:"col-3-12 mobile-col-1-2",children:(0,m.jsx)(x,{id:"disable",label:`${a}.disable`,displayText:"Disable"})}),(0,m.jsx)("div",{className:"col-3-12 mobile-col-1-2",children:(0,m.jsx)(x,{id:"disable",label:`${a}.trackEvents`,displayText:"Track event",defaultChecked:!0})})]}),(0,m.jsxs)("div",{className:"grid-pad grid",children:[(0,m.jsx)("div",{className:(0,n.Z)("col-3-12 mobile-col-1-2"),children:(0,m.jsx)(h,{title:"Flag type",content:[{value:"boolean",displayName:"\u2611\ufe0f boolean"},{value:"string",displayName:"\ud83d\udd24 string"},{value:"number",displayName:"\ud83d\udd22 number"},{value:"json",displayName:"\ud83d\udda5 JSON"}],label:`${a}.type`,required:!0})}),(0,m.jsx)("div",{className:(0,n.Z)("col-1-12","mobile-col-1-1")}),(0,m.jsx)("div",{className:"col-2-12 mobile-col-1-2",children:(0,m.jsx)(v,{id:"version",label:`${a}.version`,displayText:"Version"})})]}),(0,m.jsx)(k,{label:`${a}.variations`,type:s(`${a}.type`)}),(0,m.jsx)(B,{label:`${a}.targeting`,variations:s(`${a}.variations`)}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Default"}),(0,m.jsx)(J,{label:`${a}.defaultRule`,variations:s(`${a}.variations`),isDefaultRule:!0})]}),(0,m.jsx)(Q,{label:`${a}.metadata`}),(0,m.jsx)(ae,{flagInfo:a})]})}se.propTypes={label:u().string.isRequired};var le=s(53951),re=s(29843),ie=s(5022);const te={invalidForm:"invalidForm_J4Lp",space:"space_Hu3V"};function ne(e){const a={};return e.GOFeatureFlagEditor.filter((e=>void 0!==e.flagName&&""!==e.flagName)).forEach((e=>a[e.flagName]=z(e))),a}function oe(){return(0,m.jsx)("div",{className:te.invalidForm,children:"Error in your configuration, please review the form."})}function ce(){const{watch:e,formState:{errors:a}}=(0,r.Gc)(),s=e(),l=a&&0===Object.keys(a).length&&Object.getPrototypeOf(a)===Object.prototype;return(0,m.jsxs)("div",{className:"col-4-12",children:[!l&&(0,m.jsx)(oe,{}),l&&(0,m.jsx)(h,{title:"Format",content:[{value:"yaml",displayName:"YAML"},{value:"json",displayName:"JSON"},{value:"toml",displayName:"TOML"}],required:!1,label:"flagFormat"}),(0,m.jsx)("div",{className:te.space}),l&&(0,m.jsx)(le.default,{className:"JSON",children:function(e,a){switch(a){case"json":return JSON.stringify(e,null,2);case"toml":return ie.stringify(e);default:return re.default.stringify(e,null,2)}}(ne(s),s.flagFormat)})]})}function de(){const e="GOFeatureFlagEditor",a=(0,r.cI)({mode:"onChange",defaultValues:{GOFeatureFlagEditor:[{flagName:"my-first-flag",variations:[{name:"Variation_1",value:!0},{name:"Variation_2",value:!1}],targeting:[],defaultRule:{}}]}}),{fields:s,append:l}=(0,r.Dq)({control:a.control,name:e,rules:{minLength:1}});return(0,m.jsx)("div",{className:"grid-pad grid",children:(0,m.jsxs)(r.RV,{...a,children:[(0,m.jsx)("div",{className:"col-8-12",children:(0,m.jsxs)("form",{onSubmit:a.handleSubmit((e=>{e.preventDefault()})),children:[s.map(((a,s)=>(0,m.jsx)(se,{label:`${e}.${s}`},a.id))),(0,m.jsxs)("button",{className:L.button,onClick:e=>{e.preventDefault(),l({flagName:`new-flag-${s.length}`,variations:[{name:"Variation_1",value:!0},{name:"Variation_2",value:!1}],targeting:[],defaultRule:{}})},children:[(0,m.jsxs)("span",{className:"fa-stack fa-1x",children:[(0,m.jsx)("i",{className:(0,n.Z)("fa-solid fa-circle fa-stack-2x",L.bg)}),(0,m.jsx)("i",{className:"fa-solid fa-plus fa-stack-1x fa-inverse"})]}),"Add another flag"]})]})}),(0,m.jsx)(ce,{})]})})}function ue(){return(0,m.jsx)(i.Z,{title:"Edit Your Flag",description:"GO Feature Flag editor is the simplest way to configure your feature flags.",children:(0,m.jsx)(de,{})})}},15101:()=>{},42116:()=>{},34904:()=>{},6918:()=>{},84819:()=>{},23197:()=>{},60996:()=>{}}]);